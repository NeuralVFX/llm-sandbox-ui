# Notebook IO


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

### reconstruct_cells_from_history

``` python

def reconstruct_cells_from_history(
    notebook_history
):

```

*Convert raw JavaScript cell data into rendered cell objects.*

Args: notebook_history: List of cell dicts from JavaScript with keys:
cell_type, cell_id, source, outputs.

Returns: List of cell objects (MarkdownCell, CodeCell, or PromptCell).

Raises: ValueError: If cell_type is unknown.

------------------------------------------------------------------------

### reconstruct_ipynb_cell

``` python

def reconstruct_ipynb_cell(
    cell
):

```

*Convert a Jupyter notebook cell dict to the appropriate cell class.*

Args: cell: Dict with ‘cell_type’, ‘metadata’, and type-specific keys.
Markdown cells may have ‘agent_cell’ or ‘prompt_cell’ in metadata.

Returns: MarkdownCell, CodeCell, PromptCell, AgentCell, or None if
unknown type.

------------------------------------------------------------------------

### prepare_chat_history

``` python

def prepare_chat_history(
    cell_list
):

```

*Converts a list of notebook cells into a conversation history for the
LLM.*

Args: cell_list (list): List of notebook cells.

Returns: list: A list of message dictionaries (role/content) for the
Chat API.

------------------------------------------------------------------------

### is_ask_cell

``` python

def is_ask_cell(
    cell
):

```

*Check if a cell is a prompt cell with a response.*

Args: cell (dict): The JSON dictionary representing a cell.

Returns: bool: True if cell contains the prompt/response separator,
False otherwise.

------------------------------------------------------------------------

### prep_prompt_cell

``` python

def prep_prompt_cell(
    cell
):

```

*Extracts text and embedded images from a markdown cell.*

Args: cell (dict): The JSON dictionary representing a markdown cell.

Returns: tuple (list): Two lists containing strings (text content) and
bytes (decoded image data).

------------------------------------------------------------------------

### seperate_markdown

``` python

def seperate_markdown(
    markdown
):

```

*Separate markdown text blocks from embedded base64 images.*

Args: markdown: List of markdown content strings, potentially containing
embedded base64 images in the format `(data:image/...;base64,...)`.

Returns: List containing strings for text blocks and bytes for decoded
images.

------------------------------------------------------------------------

### prep_code_cell_output

``` python

def prep_code_cell_output(
    code_cell, cell_type:str='Code'
):

```

*Extracts outputs (logs, streams, errors, images) from a code cell.*

Args: code_cell (dict): The JSON dictionary representing a code cell.
cell_type (str, optional): Label for the cell. Defaults to ‘Code’.

Returns: list: A list containing text output, error traces, or image
bytes.

------------------------------------------------------------------------

### prep_code_cell

``` python

def prep_code_cell(
    code_cell, cell_type:str='Code'
):

```

*Extracts and labels source code from a code cell.*

Args: code_cell (dict): The JSON dictionary representing a code cell.
cell_type (str, optional): Label for the cell. Defaults to ‘Code’.

Returns: list: A list containing the labeled header and the source code
string.

------------------------------------------------------------------------

### format_for_chat

``` python

def format_for_chat(
    items
):

```

*Formats a list of mixed text and image bytes into the OpenAI/LiteLLM
message structure.*

Args: items (list): A list containing strings or byte objects.

Returns: list: A list of dictionaries with ‘type’ (text/image_url) keys.

------------------------------------------------------------------------

### prep_markdown_cell

``` python

def prep_markdown_cell(
    markdown_cell
):

```

*Extracts text and embedded images from a markdown cell.*

Args: markdown_cell (dict): The JSON dictionary representing a markdown
cell.

Returns: list: A list containing strings (text content) and bytes
(decoded image data).
